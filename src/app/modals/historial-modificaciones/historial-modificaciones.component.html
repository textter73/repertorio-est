<div id="resumen-compras" class="full-with">
    <h1 mat-dialog-title>HISTORIAL DE CAMBIOS</h1>
    <div mat-dialog-content class="full-width">
        <div class="mat-elevation-z8">
            <table mat-table [dataSource]="dataSource">
          
              <!-- ID Column -->
              <ng-container matColumnDef="np">
                <th mat-header-cell *matHeaderCellDef> # </th>
                <td mat-cell *matCellDef="let row; let i = index"> {{i + 1}} </td>
              </ng-container>
          
              <!-- Name Column -->
              <ng-container matColumnDef="clave">
                <th mat-header-cell *matHeaderCellDef> CÃ“DIGO </th>
                <td mat-cell
                    *matCellDef="let e; let i = index"
                    [style]="e.imagen.length > 0 ? 'text-decoration: underline black; cursor: pointer' : ''"
                    matTooltip="Ver imagen"
                    (click)="showImg(e)">
                    {{ e.codigo }}
                </td>
              </ng-container>
          
              
              <ng-container matColumnDef="nombre" fxFlex="20">
                <th mat-header-cell *matHeaderCellDef class="center-header">NOMBRE</th>
                <td mat-cell *matCellDef="let e; let i = index" style="text-align: left;">
                  <div class="item-name-text cp" matTooltip="{{ e.categoria }}">{{ e.nombre }}</div>
                </td>
            </ng-container>

            <ng-container matColumnDef="cantidad">
                <th mat-header-cell *matHeaderCellDef class="center-header"> STOCK </th>
                <td mat-cell *matCellDef="let e; let i = index">
                  <div class="font-bold-1000 cp" >{{ e.cantidad }}</div>
                </td>
            </ng-container>

            <ng-container matColumnDef="marca">
                <th mat-header-cell *matHeaderCellDef class="center-header"> MARCA </th>
                <td mat-cell *matCellDef="let e; let i = index">
                  <div>{{ e.marca }}</div>
                </td>
            </ng-container>

            <ng-container matColumnDef="costo">
                <th mat-header-cell *matHeaderCellDef class="center-header"> COSTO </th>
                <td mat-cell *matCellDef="let e; let i = index">
                  <div class="cp">{{ e.costo | currency: 'MXN' }}</div>
                </td>
            </ng-container>
          
            <ng-container matColumnDef="costoPublico">
                <th mat-header-cell *matHeaderCellDef class="center-header"> PUBLICO </th>
                <td mat-cell *matCellDef="let e; let i = index">
                  <div class="cp"><b style="color: darkblue">{{ e.costoPublico | currency: 'MXN' }}</b></div>
                </td>
            </ng-container>

            <ng-container matColumnDef="caja">
                <th mat-header-cell *matHeaderCellDef class="center-header"> CAJA </th>
                <td mat-cell *matCellDef="let e; let i = index">
                  <div class="cp"><b>{{ e.caja | currency: 'MXN' }}</b></div>
                </td>
            </ng-container>

            <ng-container matColumnDef="modificacion">
                <th mat-header-cell *matHeaderCellDef class="center-header"> FECHA </th>
                <td mat-cell *matCellDef="let e; let i = index">
                  <div>{{ e.fechaModificacion.toDate() | date: 'shortDate' }}</div>
                </td>
            </ng-container>

            <ng-container matColumnDef="usuario">
                <th mat-header-cell *matHeaderCellDef class="center-header"> USUARIO </th>
                <td mat-cell *matCellDef="let e; let i = index">
                  <div>{{ e.usuarioCrea }}</div>
                </td>
            </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
          
          </div>
    </div>
    <hr>
    <div mat-dialog-actions class="full-width">
        <button mat-button (click)="onNoClick()">Salir</button>
    </div>
</div>